{"code":"!function(t){var i={};function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var s in t)e.d(n,s,function(i){return t[i]}.bind(null,s));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=\"./index.js\")}({\"./index.js\":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! no exports provided */\n/*! all exports used */function(t,i,e){\"use strict\";e.r(i);var n=e(/*! ./slide */\"./slide.js\");console.log(1111),new n.a({container:\"slide_container\",list:\"slide_list\",item:\"slide_item\",footer:\"slide_footer\",auto:!1,touch:!0,time:2e3,infinite:!0})},\"./slide.js\":\n/*!******************!*\\\n  !*** ./slide.js ***!\n  \\******************/\n/*! exports provided: default */\n/*! exports used: default */function(t,i,e){\"use strict\";e.d(i,\"a\",function(){return n});class n{constructor({container:t=\"\",list:i=\"\",item:e=\"\",footer:n=\"\",direction:s=\"h\",auto:h=!1,touch:a=!0,time:o=2e3,infinite:r=!0,width:l,isOnePageScroll:c=!1,verticalH:d}){if(!t||!i||!e)throw new Error(\"container/list/item should not be null\");if(this.container=document.getElementById(t),this.list=this.container.getElementsByClassName(i)[0],0!=this.list.children.length&&(1!=this.list.children.length||c)){this.len=this.container.getElementsByClassName(e).length,this.tags=n&&this.container.getElementsByClassName(n)||[],this.footerName=n,this.tagsLen=this.tags.length,this.fakeLen=r?this.len+2:this.len+1,this.auto=h,this.createNode=!1,this.direction=s,this.fixedH=d||parseInt(this.list.children[0].clientHeight),this.infinite=r,this.attr=\"h\"===s?\"translateX\":\"translateY\",this.startX=0,this.n=r?1:0,this.pWidth=l||(\"h\"===s?this.container.clientWidth:this.fixedH),this.dx=0,this.touch=a,this.time=o,this.origin=r?-this.pWidth:0,r&&this.autoCreate(),h&&this.autoCreate(),!h&&this.setAttr(),this.timer=null,this.slideTimer=null;var u=this;this.state=Stately.machine({Idle:{onEnter(){u.auto?this.Idle.autoPlay.apply(this):this.Idle.touchMove.apply(this)},autoPlay(){this.setMachineState(this.Auto)},touchMove(){this.setMachineState(this.Move)}},Move:{touchStart(t){u.startX=t.touches[0].clientX,u.left=parseInt(u.list.style.transform.match(/\\-?\\d+px/)[0],10)},touchMoving(t){u.transitionChange(!1),clearTimeout(u.timer);let i=t.touches[0].clientX,e=u.startX||i,n=parseInt(i-e),s=-u.pWidth*(u.len-1),h=u.left||0;if(u.infinite){let t=Math.round(h+n);u.list.style.transform=`${u.attr}(${t}px)`}else if(h>=s&&h<=u.origin){let t=Math.round(h+n);t>0&&(t=0),t<s&&(t=s),u.list.style.transform=`${u.attr}(${t}px)`}0==u.startX&&(u.startX=e,this.Move.touchEnd.call(this,t))},touchEnd(t){u.dx=u.startX-(t.changedTouches[0]||t.touches[0]).clientX,u.startX=0,u.transitionChange(!0),this.setMachineState(this.ChangingManual)}},Auto:{onEnter(){this.Auto.play.apply(this)},play(){clearTimeout(u.timer),u.transitionChange(!0),u.fakeLen-1===u.n?this.setMachineState(this.ChangingAuto):u.timer=setTimeout(()=>{this.setMachineState(this.ChangingAuto)},u.time)},touchMove(){this.setMachineState(this.Move)}},ChangingAuto:{onEnter(){this.ChangingAuto.autoChange.call(this,-60.11)},autoChange(t=u.dx){if(-60.11===t){if(u.fakeLen-1===u.n)return u.list.style.transform=`${u.attr}(${-u.pWidth*u.n}px)`,void(u.tags.length&&u.changeColor());u.list.style.transform=`${u.attr}(${-u.pWidth*++u.n}px)`,u.tags.length&&u.changeColor(),this.setMachineState(this.Idle)}},changeToIdle(){this.setMachineState(this.Idle)}},ChangingManual:{onEnter(){this.ChangingManual.manualChange.call(this,u.dx)},manualChange(t=u.dx){if(!u.slideTimer){if(t<0)u.infinite?0==u.n?u.n:u.n--:u.n>0?u.n--:u.n;else{if(!(t>0))return this.setMachineState(this.Idle);u.infinite?u.n==u.fakeLen-1?u.n:u.n++:u.n<u.len-1?u.n++:u.n}u.list.style.transform=`${u.attr}(${-u.pWidth*u.n}px)`,u.dx&&u.tags.length&&u.changeColor(),this.setMachineState(this.Idle)}},changeToIdle(){this.setMachineState(this.Idle)}}}),this.init()}}init(){this.addTransitionendListener(),this.touch?(this.transitionChange(!0),this.list.addEventListener(\"touchstart\",t=>{this.state.touchMove(),this.state.touchStart.call(this,t)}),this.list.addEventListener(\"touchmove\",t=>{this.state.touchMoving(t)}),this.list.addEventListener(\"touchend\",t=>{this.state.touchEnd(t)}),this.auto&&this.state.autoPlay()):this.auto&&this.state.autoPlay()}addTransitionendListener(){[\"transitionend\",\"webkitTransitionEnd\",\"mozTransitionEnd\",\"oTransitionEnd\"].forEach(t=>{this.list.addEventListener(t,()=>{this.fakeLen-1===this.n&&(this.transitionChange(!1),this.list.style.transform=`${this.attr}(${this.origin}px)`,this.n=this.infinite?1:0,setTimeout(()=>{this.transitionChange(!0),this.state.changeToIdle()},10)),this.infinite&&(this.n<1||this.n==this.fakeLen-1)&&(this.transitionChange(!1),this.n<1?this.n=this.len:this.n=1,this.list.style.transform=`${this.attr}(${-this.pWidth*this.n}px)`,setTimeout(()=>{this.transitionChange(!0),this.state.changeToIdle()},50))})})}autoCreate(t=this.infinite){if(this.createNode)return;this.setAttr(\"fake\");let i=this.list.children.length;const e=this.list.children[i-1].cloneNode(!0),n=this.list.children[0].cloneNode(!0);this.list.appendChild(n),t&&this.list.insertBefore(e,this.list.children[0]),this.createNode=!0}setAttr(){let t=this.infinite?this.fakeLen:this.len;this.container.setAttribute(\"style\",\"\\n        position:relative;\\n        overflow:hidden;\\n        \"),this.list.setAttribute(\"style\",`\\n            display: flex;\\n            flex-wrap: no-wrap;\\n            -webkit-overflow-scrolling: touch;\\n            transform: ${this.attr}(${this.origin}px);\\n            transition-property: none;\\n            transition-duration: .25s;\\n            transition-timing-function: ease;\\n            ${\"h\"==this.direction?\"display: flex;\\n            flex-wrap: no-wrap;\":\"\"}\\n            -webkit-backface-visibility: hidden;\\n            -webkit-perspective: 1000;\\n            ${\"h\"===this.direction?\"width\":\"height\"}\\n                :\\n            ${\"h\"===this.direction?t+\"00%\":t*this.fixedH+\"px\"}`)}transitionChange(t=!0){this.list.style.transitionProperty=t?\"all\":\"none\"}changeColor(){console.log(this.footerName),Array.from(this.tags).map(t=>{let i=t.getAttribute(\"class\");i=i.replace(`${this.footerName}_item--active`,\"\"),t.setAttribute(\"class\",i)});let t,i=this.tagsLen;t=this.infinite?this.n==this.fakeLen-1?0:0==this.n?i-1:this.n-1:this.n===this.fakeLen-1?0:this.n===this.fakeLen?1:this.n,this.tags[t].className+=` ${this.footerName}_item--active`}}}});","extractedComments":[]}